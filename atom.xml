<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Agphp Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blog.agphp.com/"/>
  <updated>2020-05-06T08:42:44.649Z</updated>
  <id>https://blog.agphp.com/</id>
  
  <author>
    <name>Huhijay</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hexo搭建个人博客</title>
    <link href="https://blog.agphp.com/2019/04/03/hexo-build-bolg.html"/>
    <id>https://blog.agphp.com/2019/04/03/hexo-build-bolg.html</id>
    <published>2019-04-03T10:24:00.000Z</published>
    <updated>2020-05-06T08:42:44.649Z</updated>
    
    <content type="html"><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>预先安装NodeJS和Git。</p><h2 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Hexo安装</span></span><br><span class="line">npm install hexo -g</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 更新Hexo</span></span><br><span class="line">npm update hexo -g</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 初始化</span></span><br><span class="line">hexo init &lt;folder&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 生成网站 hexo generate</span></span><br><span class="line">hexo g</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动本地服务 hexo server</span></span><br><span class="line">hexo s</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 网站部署三部操作</span></span><br><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 常用命令汇总</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 新建文章</span></span><br><span class="line">hexo new 'postName'</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 新建页面</span></span><br><span class="line">hexo new page 'pageName'</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 生成静态页面到public目录</span></span><br><span class="line">hexo generate</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启动本地服务</span></span><br><span class="line">hexo server</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 将.deploy目录部署到GitHub</span></span><br><span class="line">hexo deploy</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看帮助</span></span><br><span class="line">hexo help</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看版本</span></span><br><span class="line">hexo version</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 命令的简写</span></span><br><span class="line">hexo n == hexo new</span><br><span class="line">hexo g == hexo generate</span><br><span class="line">hexo s == hexo server</span><br><span class="line">hexo d == hexo deploy</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;准备工作&quot;&gt;&lt;a href=&quot;#准备工作&quot; class=&quot;headerlink&quot; title=&quot;准备工作&quot;&gt;&lt;/a&gt;准备工作&lt;/h2&gt;&lt;p&gt;预先安装NodeJS和Git。&lt;/p&gt;
&lt;h2 id=&quot;基本操作&quot;&gt;&lt;a href=&quot;#基本操作&quot; class=&quot;heade
      
    
    </summary>
    
    
      <category term="工具" scheme="https://blog.agphp.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="Node" scheme="https://blog.agphp.com/tags/Node/"/>
    
      <category term="Hexo" scheme="https://blog.agphp.com/tags/Hexo/"/>
    
      <category term="NPM" scheme="https://blog.agphp.com/tags/NPM/"/>
    
      <category term="工具" scheme="https://blog.agphp.com/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="GitHub" scheme="https://blog.agphp.com/tags/GitHub/"/>
    
  </entry>
  
  <entry>
    <title>Linux系统安装Nodejs</title>
    <link href="https://blog.agphp.com/2019/04/02/install-nodejs.html"/>
    <id>https://blog.agphp.com/2019/04/02/install-nodejs.html</id>
    <published>2019-04-02T10:24:00.000Z</published>
    <updated>2020-05-06T08:13:51.612Z</updated>
    
    <content type="html"><![CDATA[<h2 id="简单记录nodejs安装过程"><a href="#简单记录nodejs安装过程" class="headerlink" title="简单记录nodejs安装过程"></a>简单记录nodejs安装过程</h2><p>下载地址： <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">https://nodejs.org/en/download/</a> ，点击进入选择合适的编译包。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 检查是否已经安装</span></span><br><span class="line">whereis nodejs</span><br><span class="line">whereis node</span><br><span class="line">whereis npm</span><br><span class="line"><span class="meta">#</span><span class="bash"> 下载</span></span><br><span class="line">wget https://nodejs.org/dist/v12.16.3/node-v12.16.3-linux-x64.tar.xz</span><br><span class="line"><span class="meta">#</span><span class="bash"> 解压</span></span><br><span class="line">tag -xvf node-v12.16.3-darwin-x64.tar.gz</span><br><span class="line"><span class="meta">#</span><span class="bash"> 重命名</span></span><br><span class="line">mv node-v12.16.3-darwin-x64 nodejs</span><br><span class="line"><span class="meta">#</span><span class="bash"> 移动</span></span><br><span class="line">mv nodejs /usr/sbin/</span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置软连接</span></span><br><span class="line">ln -s /usr/sbin/nodejs/bin/node /usr/local/bin</span><br><span class="line">ln -s /usr/sbin/nodejs/bin/npm /usr/local/bin</span><br><span class="line"><span class="meta">#</span><span class="bash"> 检查安装</span></span><br><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;简单记录nodejs安装过程&quot;&gt;&lt;a href=&quot;#简单记录nodejs安装过程&quot; class=&quot;headerlink&quot; title=&quot;简单记录nodejs安装过程&quot;&gt;&lt;/a&gt;简单记录nodejs安装过程&lt;/h2&gt;&lt;p&gt;下载地址： &lt;a href=&quot;https:/
      
    
    </summary>
    
    
      <category term="前端" scheme="https://blog.agphp.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="Node" scheme="https://blog.agphp.com/tags/Node/"/>
    
      <category term="NPM" scheme="https://blog.agphp.com/tags/NPM/"/>
    
      <category term="NodeJS" scheme="https://blog.agphp.com/tags/NodeJS/"/>
    
  </entry>
  
  <entry>
    <title>PHP中的浮点数问题</title>
    <link href="https://blog.agphp.com/2018/10/27/php-float.html"/>
    <id>https://blog.agphp.com/2018/10/27/php-float.html</id>
    <published>2018-10-26T17:24:00.000Z</published>
    <updated>2019-11-16T03:49:50.626Z</updated>
    
    <content type="html"><![CDATA[<p>如果用php的+-*/计算浮点数的时候，可能会遇到一些计算结果错误的问题，比如下面这种情况： </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">echo intval(0.58*100);// 57</span><br><span class="line">echo (int) (0.58*100);// 57</span><br><span class="line">echo round(0.58*100); // 58</span><br><span class="line">var_dump((0.1 + 0.7) == 0.8); // false</span><br></pre></td></tr></table></figure><p>之所以出现上面的问题是因为PHP 是使用二进制表示浮点数的，这是支持二进制浮点数运算（绝大部分都是 IEEE-745浮点数表示法 的实现）的系统都存在一个现象（<a href="https://www.zhihu.com/question/20679634" target="_blank" rel="noopener">具体原因，想要知道的朋友可以点击这里查看</a>）。</p><p>所以在浮点数转换整数的时候（比如微信支付接口支付金额需转换成单位）建议可以使用<strong>round()</strong>函数，或者计算的时候使用BC高精度函数。</p><p><strong>常用的高精度函数如下：</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">　　bcadd — 将两个高精度数字相加</span><br><span class="line"></span><br><span class="line">　　bccomp — 比较两个高精度数字，返回<span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line"></span><br><span class="line">　　bcdiv — 将两个高精度数字相除</span><br><span class="line"></span><br><span class="line">　　bcmod — 求高精度数字余数</span><br><span class="line"></span><br><span class="line">　　bcmul — 将两个高精度数字相乘</span><br><span class="line"></span><br><span class="line">　　bcpow — 求高精度数字乘方</span><br><span class="line"></span><br><span class="line">　　bcpowmod — 求高精度数字乘方求模，数论里非常常用</span><br><span class="line"></span><br><span class="line">　　bcscale — 配置默认小数点位数，相当于就是Linux bc中的”scale=”</span><br><span class="line"></span><br><span class="line">　　bcsqrt — 求高精度数字平方根</span><br><span class="line"></span><br><span class="line">　　bcsub — 将两个高精度数字相减</span><br></pre></td></tr></table></figure><p><strong>使用方法举例如下：</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 两个高精度数比较</span></span><br><span class="line"><span class="comment">  * </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@access</span> global</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> float $left</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> float $right</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> int $scale 精确到的小数点位数</span></span><br><span class="line"><span class="comment">  * </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> int $left==$right 返回 0 | $left&lt;$right 返回 -1 | $left&gt;$right 返回 1</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">var_dump(bccomp($left=<span class="number">4.45</span>, $right=<span class="number">5.54</span>, <span class="number">2</span>));</span><br><span class="line"><span class="comment">// -1</span></span><br><span class="line">  </span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 两个高精度数相加</span></span><br><span class="line"><span class="comment">  * </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@access</span> global</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> float $left</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> float $right</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> int $scale 精确到的小数点位数</span></span><br><span class="line"><span class="comment">  * </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> string </span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">var_dump(bcadd($left=<span class="number">1.0321456</span>, $right=<span class="number">0.0243456</span>, <span class="number">2</span>));</span><br><span class="line"><span class="comment">//1.05</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 两个高精度数相减</span></span><br><span class="line"><span class="comment">  * </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@access</span> global</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> float $left</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> float $right</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> int $scale 精确到的小数点位数</span></span><br><span class="line"><span class="comment">  * </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> string </span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">var_dump(bcsub($left=<span class="number">1.0321456</span>, $right=<span class="number">3.0123456</span>, <span class="number">2</span>));</span><br><span class="line"><span class="comment">//-1.98</span></span><br><span class="line">  </span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 两个高精度数相除</span></span><br><span class="line"><span class="comment">  * </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@access</span> global</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> float $left</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> float $right</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> int $scale 精确到的小数点位数</span></span><br><span class="line"><span class="comment">  * </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> string </span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">var_dump(bcdiv($left=<span class="number">6</span>, $right=<span class="number">5</span>, <span class="number">2</span>));</span><br><span class="line"><span class="comment">//1.20</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 两个高精度数相乘</span></span><br><span class="line"><span class="comment">  * </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@access</span> global</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> float $left</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> float $right</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> int $scale 精确到的小数点位数</span></span><br><span class="line"><span class="comment">  * </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> string </span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">var_dump(bcmul($left=<span class="number">3.1415926</span>, $right=<span class="number">2.4569874566</span>, <span class="number">2</span>));</span><br><span class="line"><span class="comment">//7.71</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 设置bc函数的小数点位数</span></span><br><span class="line"><span class="comment">  * </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@access</span> global</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> int $scale 精确到的小数点位数</span></span><br><span class="line"><span class="comment">  * </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> void </span></span><br><span class="line"><span class="comment">  */</span> </span><br><span class="line">bcscale(<span class="number">3</span>);</span><br><span class="line">var_dump(bcdiv(<span class="string">'105'</span>, <span class="string">'6.55957'</span>)); </span><br><span class="line"><span class="comment">//16.007</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;如果用php的+-*/计算浮点数的时候，可能会遇到一些计算结果错误的问题，比如下面这种情况： &lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;
      
    
    </summary>
    
    
      <category term="PHP" scheme="https://blog.agphp.com/categories/PHP/"/>
    
    
      <category term="PHP" scheme="https://blog.agphp.com/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>PHP常用函数-身份证格式校验</title>
    <link href="https://blog.agphp.com/2017/10/25/php-func-identity-verify.html"/>
    <id>https://blog.agphp.com/2017/10/25/php-func-identity-verify.html</id>
    <published>2017-10-25T10:06:00.000Z</published>
    <updated>2019-11-16T03:49:50.626Z</updated>
    
    <content type="html"><![CDATA[<h5 id="PHP常用函数-身份证格式校验"><a href="#PHP常用函数-身份证格式校验" class="headerlink" title="PHP常用函数-身份证格式校验"></a>PHP常用函数-身份证格式校验</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line">下面是身份证编码各个部分的含义:</span><br><span class="line"><span class="comment">//=============新的18位身份证号码各位的含义:=======================</span></span><br><span class="line"><span class="comment">//1-2位省、自治区、直辖市代码；11-65</span></span><br><span class="line"><span class="comment">//3-4位地级市、盟、自治州代码；</span></span><br><span class="line"><span class="comment">//5-6位县、县级市、区代码；</span></span><br><span class="line"><span class="comment">//7-14位出生年月日，比如19670401代表1967年4月1日；</span></span><br><span class="line"><span class="comment">//15-17位为顺序号，其中17位男为单数，女为双数；</span></span><br><span class="line"><span class="comment">//18位为校验码，0-9和X，由公式随机产生。</span></span><br><span class="line"><span class="comment">//举例：</span></span><br><span class="line"><span class="comment">//130503 19670401 0012这个身份证号的含义: 13为河北，05为邢台，03为桥西区，出生日期为1967年4月1日，顺序号为001，2为验证码</span></span><br><span class="line"><span class="comment">//===========15位身份证号码各位的含义:=======================</span></span><br><span class="line"><span class="comment">//1-2位省、自治区、直辖市代码；</span></span><br><span class="line"><span class="comment">//3-4位地级市、盟、自治州代码；</span></span><br><span class="line"><span class="comment">//5-6位县、县级市、区代码；</span></span><br><span class="line"><span class="comment">//7-12位出生年月日,比如670401代表1967年4月1日,这是和18位号码的第一个区别；</span></span><br><span class="line"><span class="comment">//13-15位为顺序号，其中15位男为单数，女为双数；</span></span><br><span class="line"><span class="comment">//与18位身份证号的第二个区别：没有最后一位的验证码。</span></span><br><span class="line"><span class="comment">//举例：</span></span><br><span class="line"><span class="comment">//130503 670401 001的含义; 13为河北，05为邢台，03为桥西区，出生日期为1967年4月1日，顺序号为001。</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IdentityCard</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 校验身份证号是否合法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $num 待校验的身份证号</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> bool</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">isValid</span><span class="params">(string $num)</span></span>&#123;</span><br><span class="line">        <span class="comment">//老身份证长度15位，新身份证长度18位</span></span><br><span class="line">        $length = strlen($num);</span><br><span class="line">        <span class="keyword">if</span> ($length == <span class="number">15</span>) &#123; <span class="comment">//如果是15位身份证</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//15位身份证没有字母</span></span><br><span class="line">            <span class="keyword">if</span> (!is_numeric($num)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 省市县（6位）</span></span><br><span class="line">            $areaNum = substr($num, <span class="number">0</span>, <span class="number">6</span>);</span><br><span class="line">            <span class="comment">// 出生年月（6位）</span></span><br><span class="line">            $dateNum = substr($num, <span class="number">6</span>, <span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> ($length == <span class="number">18</span>) &#123; <span class="comment">//如果是18位身份证</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//基本格式校验</span></span><br><span class="line">            <span class="keyword">if</span> (!preg_match(<span class="string">'/^\d&#123;17&#125;[0-9xX]$/'</span>, $num)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 省市县（6位）</span></span><br><span class="line">            $areaNum = substr($num, <span class="number">0</span>, <span class="number">6</span>);</span><br><span class="line">            <span class="comment">// 出生年月日（8位）</span></span><br><span class="line">            $dateNum = substr($num, <span class="number">6</span>, <span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">//假身份证</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//验证地区</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">self</span>::isAreaCodeValid($areaNum)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//验证日期</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">self</span>::isDateValid($dateNum)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//验证最后一位</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">self</span>::isVerifyCodeValid($num)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 省市自治区校验</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $area 省、直辖市代码</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> bool</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">isAreaCodeValid</span><span class="params">(string $area)</span> </span>&#123;</span><br><span class="line">        $provinceCode = substr($area, <span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 根据GB/T2260—999，省市代码11到65</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="number">11</span> &lt;= $provinceCode &amp;&amp; $provinceCode &lt;= <span class="number">65</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 验证出生日期合法性</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $date 日期</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> bool</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">isDateValid</span><span class="params">(string $date)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (strlen($date) == <span class="number">6</span>) &#123; <span class="comment">//15位身份证号没有年份，这里拼上年份</span></span><br><span class="line">            $date = <span class="string">'19'</span>.$date;</span><br><span class="line">        &#125;</span><br><span class="line">        $year  = intval(substr($date, <span class="number">0</span>, <span class="number">4</span>));</span><br><span class="line">        $month = intval(substr($date, <span class="number">4</span>, <span class="number">2</span>));</span><br><span class="line">        $day   = intval(substr($date, <span class="number">6</span>, <span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//日期基本格式校验</span></span><br><span class="line">        <span class="keyword">if</span> (!checkdate($month, $day, $year)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//日期格式正确，但是逻辑存在问题(如:年份大于当前年)</span></span><br><span class="line">        $currYear = date(<span class="string">'Y'</span>);</span><br><span class="line">        <span class="keyword">if</span> ($year &gt; $currYear) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 验证18位身份证最后一位</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $num 待校验的身份证号</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> bool</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">isVerifyCodeValid</span><span class="params">(string $num)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (strlen($num) == <span class="number">18</span>) &#123;</span><br><span class="line">            $factor = [<span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>];</span><br><span class="line">            $tokens = [<span class="string">'1'</span>, <span class="string">'0'</span>, <span class="string">'X'</span>, <span class="string">'9'</span>, <span class="string">'8'</span>, <span class="string">'7'</span>, <span class="string">'6'</span>, <span class="string">'5'</span>, <span class="string">'4'</span>, <span class="string">'3'</span>, <span class="string">'2'</span>];</span><br><span class="line"></span><br><span class="line">            $checkSum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> ($i = <span class="number">0</span>; $i &lt; <span class="number">17</span>; $i++) &#123;</span><br><span class="line">                $checkSum += intval($num&#123;$i&#125;) * $factor[$i];</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            $mod   = $checkSum % <span class="number">11</span>;</span><br><span class="line">            $token = $tokens[$mod];</span><br><span class="line"></span><br><span class="line">            $lastChar = strtoupper($num&#123;<span class="number">17</span>&#125;);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> ($lastChar != $token) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h5 id=&quot;PHP常用函数-身份证格式校验&quot;&gt;&lt;a href=&quot;#PHP常用函数-身份证格式校验&quot; class=&quot;headerlink&quot; title=&quot;PHP常用函数-身份证格式校验&quot;&gt;&lt;/a&gt;PHP常用函数-身份证格式校验&lt;/h5&gt;&lt;figure class=&quot;highli
      
    
    </summary>
    
    
      <category term="PHP" scheme="https://blog.agphp.com/categories/PHP/"/>
    
    
      <category term="PHP" scheme="https://blog.agphp.com/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>表单控制输入数字</title>
    <link href="https://blog.agphp.com/2017/10/23/input-limit-num.html"/>
    <id>https://blog.agphp.com/2017/10/23/input-limit-num.html</id>
    <published>2017-10-23T11:04:00.000Z</published>
    <updated>2019-11-16T03:49:50.625Z</updated>
    
    <content type="html"><![CDATA[<p>前端表单限制仅可输入数字:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"text"</span> name=<span class="string">"number"</span> onkeyup=<span class="string">"floatNum(this)"</span> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数字校验 2位小数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">floatNum</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    obj.value = obj.value.replace(<span class="regexp">/[^\d.]/g</span>,<span class="string">""</span>); <span class="comment">//清除"数字"和"."以外的字符</span></span><br><span class="line">    obj.value = obj.value.replace(<span class="regexp">/^\./g</span>,<span class="string">""</span>); <span class="comment">//验证第一个字符是数字</span></span><br><span class="line">    obj.value = obj.value.replace(<span class="regexp">/\.&#123;2,&#125;/g</span>,<span class="string">"."</span>); <span class="comment">//只保留第一个, 清除多余的</span></span><br><span class="line">    obj.value = obj.value.replace(<span class="string">"."</span>,<span class="string">"$#$"</span>).replace(<span class="regexp">/\./g</span>,<span class="string">""</span>).replace(<span class="string">"$#$"</span>,<span class="string">"."</span>);</span><br><span class="line">    obj.value = obj.value.replace(<span class="regexp">/^(\-)*(\d+)\.(\d\d).*$/</span>,<span class="string">'$1$2.$3'</span>); <span class="comment">//只能输入两个小数</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 数字校验 2位小数 允许负值</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">floatNum2</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    obj.value = obj.value.replace(<span class="regexp">/[^\-\d.]/g</span>,<span class="string">""</span>); <span class="comment">//清除"数字"和"."以外的字符</span></span><br><span class="line">    obj.value = obj.value.replace(<span class="regexp">/^\./g</span>,<span class="string">""</span>); <span class="comment">//验证第一个字符是数字</span></span><br><span class="line">    obj.value = obj.value.replace(<span class="regexp">/\-&#123;2,&#125;/g</span>,<span class="string">"-"</span>); <span class="comment">//只保留第一个, 清除多余的</span></span><br><span class="line">    obj.value = obj.value.replace(<span class="regexp">/\.&#123;2,&#125;/g</span>,<span class="string">"."</span>); <span class="comment">//只保留第一个, 清除多余的</span></span><br><span class="line">    obj.value = obj.value.replace(<span class="string">"."</span>,<span class="string">"$#$"</span>).replace(<span class="regexp">/\./g</span>,<span class="string">""</span>).replace(<span class="string">"$#$"</span>,<span class="string">"."</span>);</span><br><span class="line">    obj.value = obj.value.replace(<span class="regexp">/^(\-)*(\d+)\.(\d\d).*$/</span>,<span class="string">'$1$2.$3'</span>); <span class="comment">//只能输入两个小数</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;前端表单限制仅可输入数字:&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/sp
      
    
    </summary>
    
    
      <category term="前端" scheme="https://blog.agphp.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="JavaScript" scheme="https://blog.agphp.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Layui5.0设置最大最小值</title>
    <link href="https://blog.agphp.com/2017/10/23/layui-set-max-min.html"/>
    <id>https://blog.agphp.com/2017/10/23/layui-set-max-min.html</id>
    <published>2017-10-23T10:50:39.000Z</published>
    <updated>2019-11-16T03:49:50.625Z</updated>
    
    <content type="html"><![CDATA[<p>由于新版的laydate时间插件在初始化时已设置时间最大最小范围，且生成对象，无法重新渲染改变其日期最大最小值。</p><p>有网友经试验贴出如下方法可达成目的，故做记录。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//开始时间</span></span><br><span class="line"><span class="keyword">var</span> startDate = laydate.render(&#123;</span><br><span class="line">    elem: <span class="string">'#start'</span>, </span><br><span class="line">    done: <span class="function"><span class="keyword">function</span> (<span class="params">value, date</span>) </span>&#123;</span><br><span class="line">        endDate.config.min = &#123;</span><br><span class="line">            year: date.year, </span><br><span class="line">            month: date.month<span class="number">-1</span>, </span><br><span class="line">            date: date.date,</span><br><span class="line">            hours: date.hours,</span><br><span class="line">            minutes: date.minutes,</span><br><span class="line">            seconds: date.seconds</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//结束时间</span></span><br><span class="line"><span class="keyword">var</span> endDate = laydate.render(&#123;</span><br><span class="line">    elem: <span class="string">'#end'</span>, </span><br><span class="line">    done: <span class="function"><span class="keyword">function</span> (<span class="params">value, date</span>) </span>&#123;</span><br><span class="line">        startDate.config.max = &#123;</span><br><span class="line">            year: date.year,</span><br><span class="line">            month: date.month<span class="number">-1</span>,</span><br><span class="line">            date: date.date,</span><br><span class="line">            hours: date.hours,</span><br><span class="line">            minutes: date.minutes,</span><br><span class="line">            seconds: date.seconds</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;由于新版的laydate时间插件在初始化时已设置时间最大最小范围，且生成对象，无法重新渲染改变其日期最大最小值。&lt;/p&gt;
&lt;p&gt;有网友经试验贴出如下方法可达成目的，故做记录。&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td c
      
    
    </summary>
    
    
      <category term="前端" scheme="https://blog.agphp.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="JavaScript" scheme="https://blog.agphp.com/tags/JavaScript/"/>
    
      <category term="Layui" scheme="https://blog.agphp.com/tags/Layui/"/>
    
  </entry>
  
  <entry>
    <title>MySQL：数据存在则更新，不存在则插入</title>
    <link href="https://blog.agphp.com/2017/05/23/mysql-insert-update.html"/>
    <id>https://blog.agphp.com/2017/05/23/mysql-insert-update.html</id>
    <published>2017-05-23T09:18:00.000Z</published>
    <updated>2019-11-16T03:49:50.625Z</updated>
    
    <content type="html"><![CDATA[<p>前提：表结构存在主键或唯一索引，插入数据包含主键或唯一索引而导致记录重复插入失败。</p><p>单条记录更新插入：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name  (a,b,c) VALUES (1,2,3)</span><br><span class="line">ON DUPLICATE KEY UPDATE a=1,b=2,c=3;</span><br></pre></td></tr></table></figure><p>多条记录批量更新插入：：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name  (a,b,c) VALUES (1,2,3),(4,5,6) </span><br><span class="line">ON DUPLICATE KEY UPDATE a=VALUES(a),b=VALUES(b),c=VALUES(c);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;前提：表结构存在主键或唯一索引，插入数据包含主键或唯一索引而导致记录重复插入失败。&lt;/p&gt;
&lt;p&gt;单条记录更新插入：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span c
      
    
    </summary>
    
    
      <category term="数据库" scheme="https://blog.agphp.com/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="MySQL" scheme="https://blog.agphp.com/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>Xshell配色方案推荐</title>
    <link href="https://blog.agphp.com/2017/04/28/xshell-mycolor.html"/>
    <id>https://blog.agphp.com/2017/04/28/xshell-mycolor.html</id>
    <published>2017-04-28T08:25:00.000Z</published>
    <updated>2019-11-16T03:49:50.626Z</updated>
    
    <content type="html"><![CDATA[<h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><p> 1.新建mycolor.xcs文件（名字可以随意修改）<br> 2.复制粘贴如下代码，将文件导入，修改自己喜欢的字体即可</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[mycolor]</span><br><span class="line">text=00ff80</span><br><span class="line">cyan(bold)=00ffff</span><br><span class="line">text(bold)=e9e9e9</span><br><span class="line">magenta=c000c0</span><br><span class="line">green=80ff00</span><br><span class="line">green(bold)=3c5a38</span><br><span class="line">background=042028</span><br><span class="line">cyan=00c0c0</span><br><span class="line">red(bold)=ff0000</span><br><span class="line">yellow=c0c000</span><br><span class="line">magenta(bold)=ff00ff</span><br><span class="line">yellow(bold)=ffff00</span><br><span class="line">red=ff4500</span><br><span class="line">white=c0c0c0</span><br><span class="line">blue(bold)=1e90ff</span><br><span class="line">white(bold)=fdf6e3</span><br><span class="line">black=000000</span><br><span class="line">blue=00bfff</span><br><span class="line">black(bold)=808080</span><br><span class="line">[Names]</span><br><span class="line">name0=mycolor</span><br><span class="line">count=1</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;使用方法&quot;&gt;&lt;a href=&quot;#使用方法&quot; class=&quot;headerlink&quot; title=&quot;使用方法&quot;&gt;&lt;/a&gt;使用方法&lt;/h2&gt;&lt;p&gt; 1.新建mycolor.xcs文件（名字可以随意修改）&lt;br&gt; 2.复制粘贴如下代码，将文件导入，修改自己喜欢的字体即可&lt;
      
    
    </summary>
    
    
      <category term="工具" scheme="https://blog.agphp.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="工具" scheme="https://blog.agphp.com/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="Xshell" scheme="https://blog.agphp.com/tags/Xshell/"/>
    
  </entry>
  
</feed>
